// Generated by Qleany. Edit at your own risk! Be careful when regenerating this file
// as changes will be lost.


//! UserInterface entity commands for Slint UI

use crate::app_context::AppContext;
use direct_access::{CreateUserInterfaceDto, UserInterfaceDto, user_interface_controller};
use common::types::EntityId;

/// Create a new user_interface entity (orphan, no parent)
pub fn create_orphans_user_interface(
    ctx: &AppContext,
    stack_id: Option<u64>,
    dto: &CreateUserInterfaceDto,
) -> Result<UserInterfaceDto, String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    user_interface_controller::create_orphans(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        dto,
    )
    .map_err(|e| format!("Error creating user_interface: {:?}", e))
}/// Create a new user_interface entity as child of owner
pub fn create_user_interface(
    ctx: &AppContext,
    stack_id: Option<u64>,
    dto: &CreateUserInterfaceDto,
    owner_id: EntityId,
    index: i32,
) -> Result<UserInterfaceDto, String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    user_interface_controller::create(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        dto,
        owner_id,
        index,
    )
    .map_err(|e| format!("Error creating user_interface: {:?}", e))
}/// Create multiple user_interface entities (orphan, no parent)
pub fn create_orphans_user_interface_multi(
    ctx: &AppContext,
    stack_id: Option<u64>,
    dtos: &[CreateUserInterfaceDto],
) -> Result<Vec<UserInterfaceDto>, String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    user_interface_controller::create_orphans_multi(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        dtos,
    )
    .map_err(|e| format!("Error creating entities: {:?}", e))
}/// Create multiple user_interface entities as children of owner
pub fn create_user_interface_multi(
    ctx: &AppContext,
    stack_id: Option<u64>,
    dtos: &[CreateUserInterfaceDto],
    owner_id: EntityId,
    index: i32,
) -> Result<Vec<UserInterfaceDto>, String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    user_interface_controller::create_multi(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        dtos,
        owner_id,
        index,
    )
    .map_err(|e| format!("Error creating entities: {:?}", e))
}/// Get a user_interface entity by ID
pub fn get_user_interface(ctx: &AppContext, id: &EntityId) -> Result<Option<UserInterfaceDto>, String> {
    user_interface_controller::get(&ctx.db_context, id).map_err(|e| format!("Error getting user_interface: {:?}", e))
}

/// Get multiple user_interface entities by IDs
pub fn get_user_interface_multi(ctx: &AppContext, ids: &[EntityId]) -> Result<Vec<Option<UserInterfaceDto>>, String> {
    user_interface_controller::get_multi(&ctx.db_context, ids)
        .map_err(|e| format!("Error getting entities: {:?}", e))
}

/// Update a user_interface entity
pub fn update_user_interface(
    ctx: &AppContext,
    stack_id: Option<u64>,
    dto: &UserInterfaceDto,
) -> Result<UserInterfaceDto, String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    user_interface_controller::update(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        dto,
    )
    .map_err(|e| format!("Error updating user_interface: {:?}", e))
}

/// Update multiple user_interface entities
pub fn update_user_interface_multi(
    ctx: &AppContext,
    stack_id: Option<u64>,
    dtos: &[UserInterfaceDto],
) -> Result<Vec<UserInterfaceDto>, String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    user_interface_controller::update_multi(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        dtos,
    )
    .map_err(|e| format!("Error updating entities: {:?}", e))
}

/// Remove a user_interface entity by ID
pub fn remove_user_interface(
    ctx: &AppContext,
    stack_id: Option<u64>,
    id: &EntityId,
) -> Result<(), String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    let result = user_interface_controller::remove(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        id,
    )
    .map_err(|e| format!("Error deleting user_interface: {:?}", e));

    undo_redo_manager.clear_all_stacks();
    result
    
}

/// Remove multiple user_interface entities by IDs
pub fn remove_user_interface_multi(
    ctx: &AppContext,
    stack_id: Option<u64>,
    ids: &[EntityId],
) -> Result<(), String> {
    let mut undo_redo_manager = ctx.undo_redo_manager.lock().unwrap();
    let result = user_interface_controller::remove_multi(
        &ctx.db_context,
        &ctx.event_hub,
        &mut *undo_redo_manager,
        stack_id,
        ids,
    )
    .map_err(|e| format!("Error deleting user_interface: {:?}", e));

    undo_redo_manager.clear_all_stacks();
    result
    
}


