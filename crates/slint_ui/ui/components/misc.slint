import { LineEdit } from "std-widgets.slint";

// List item component
export component ListItem inherits Rectangle {
    in property <string> label;
    in property <bool> active: false;
    callback clicked();

    height: 40px;
    background: active ? #e7f5ff : transparent;
    border-radius: 4px;

    HorizontalLayout {
        padding-left: 12px;
        padding-right: 12px;
        alignment: start;

        Text {
            text: label;
            font-size: 14px;
            color: active ? #1971c2 : #495057;
            font-weight: active ? 500 : 400;
            vertical-alignment: center;
        }
    }

    TouchArea {
        clicked => { root.clicked(); }
    }
}

// Vertical divider
export component Divider inherits Rectangle {
    width: 1px;
    background: #dee2e6;
}

// Section header
export component SectionHeader inherits Rectangle {
    in property <string> title;

    height: 48px;

    HorizontalLayout {
        padding: 12px;
        alignment: start;

        Text {
            text: title;
            font-size: 18px;
            font-weight: 600;
            color: #212529;
            vertical-alignment: center;
        }
    }
}


// Paper-like card component
export component Paper inherits Rectangle {
    in property <bool> with-border: true;
    in property <color> bg: #ffffff;

    background: bg;
    border-width: with-border ? 1px : 0px;
    border-color: #dee2e6;
    border-radius: 8px;
    drop-shadow-blur: 4px;
    drop-shadow-color: #00000010;
    drop-shadow-offset-y: 1px;
}



// Form field with label
export component FormField inherits VerticalLayout {
    in property <string> label;
    in property <bool> required: false;
    in property <string> error-message: "";

    spacing: 4px;

    HorizontalLayout {
        spacing: 4px;
        Text {
            text: label;
            font-size: 14px;
            font-weight: 500;
            color: error-message != "" ? #fa5252 : #212529;
        }
        if required : Text {
            text: "*";
            font-size: 14px;
            color: #fa5252;
        }
    }

    @children

    if error-message != "" : Text {
        text: error-message;
        font-size: 12px;
        color: #fa5252;
    }
}


// Styled text input
export component StyledLineEdit inherits Rectangle {
    in-out property <string> text;
    in property <string> placeholder;
    in property <bool> enabled: true;
    in property <bool> has-error: false;
    callback edited(string);

    height: 36px;
    background: enabled ? #ffffff : #f8f9fa;
    border-width: 1px;
    border-color: has-error ? #fa5252 : (input.has-focus ? #228be6 : #ced4da);
    border-radius: 4px;

    input := LineEdit {
        text <=> root.text;
        placeholder-text: placeholder;
        enabled: root.enabled;
        edited(text) => {
            root.edited(text);
        }
    }
}