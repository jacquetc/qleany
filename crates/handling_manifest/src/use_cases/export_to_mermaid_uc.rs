// Generated by Qleany. Edit at your own risk! Be careful when regenerating this file
// as changes will be lost.
use crate::ExportToMermaidReturnDto;
use anyhow::{anyhow, Result};
use common::database::QueryUnitOfWork;
use common::entities::{
    Dto, DtoField, Entity, Feature, Field, File, Global, Relationship, Root, System,
    UseCase, UserInterface, Workspace,
};
use common::types::EntityId;

pub trait ExportToMermaidUnitOfWorkFactoryTrait {
    fn create(&self) -> Box<dyn ExportToMermaidUnitOfWorkTrait>;
}
#[macros::uow_action(entity = "Dto", action = "GetRO")]
#[macros::uow_action(entity = "Dto", action = "GetMultiRO")]
#[macros::uow_action(entity = "DtoField", action = "GetRO")]
#[macros::uow_action(entity = "DtoField", action = "GetMultiRO")]
#[macros::uow_action(entity = "Global", action = "GetRO")]
#[macros::uow_action(entity = "Global", action = "GetMultiRO")]
#[macros::uow_action(entity = "Relationship", action = "GetRO")]
#[macros::uow_action(entity = "Relationship", action = "GetMultiRO")]
#[macros::uow_action(entity = "UserInterface", action = "GetRO")]
#[macros::uow_action(entity = "UserInterface", action = "GetMultiRO")]
#[macros::uow_action(entity = "Root", action = "GetRO")]
#[macros::uow_action(entity = "Root", action = "GetMultiRO")]
#[macros::uow_action(entity = "Workspace", action = "GetRO")]
#[macros::uow_action(entity = "Workspace", action = "GetMultiRO")]
#[macros::uow_action(entity = "System", action = "GetRO")]
#[macros::uow_action(entity = "System", action = "GetMultiRO")]
#[macros::uow_action(entity = "Entity", action = "GetRO")]
#[macros::uow_action(entity = "Entity", action = "GetMultiRO")]
#[macros::uow_action(entity = "Field", action = "GetRO")]
#[macros::uow_action(entity = "Field", action = "GetMultiRO")]
#[macros::uow_action(entity = "Feature", action = "GetRO")]
#[macros::uow_action(entity = "Feature", action = "GetMultiRO")]
#[macros::uow_action(entity = "File", action = "GetRO")]
#[macros::uow_action(entity = "File", action = "GetMultiRO")]
#[macros::uow_action(entity = "UseCase", action = "GetRO")]
#[macros::uow_action(entity = "UseCase", action = "GetMultiRO")]
pub trait ExportToMermaidUnitOfWorkTrait: QueryUnitOfWork {}

pub struct ExportToMermaidUseCase {
    uow_factory: Box<dyn ExportToMermaidUnitOfWorkFactoryTrait>,
}

impl ExportToMermaidUseCase {
    pub fn new(uow_factory: Box<dyn ExportToMermaidUnitOfWorkFactoryTrait>) -> Self {
        ExportToMermaidUseCase { uow_factory }
    }

    pub fn execute(&mut self) -> Result<ExportToMermaidReturnDto> {
        let mut uow = self.uow_factory.create();
        uow.begin_transaction()?;

        //TODO: ExportToMermaidUseCase to be implemented
        unimplemented!("ExportToMermaidUseCase unimplemented");
        uow.end_transaction()?;
        //Ok(ExportToMermaidReturnDto {
        //
        //})
        // placeholder to allow compilation
        Err(anyhow!("Not implemented"))
    }
}
