// Generated by Qleany. Edit at your own risk! Be careful when regenerating this file
// as changes will be lost.
use crate::CarListDto;
use anyhow::{anyhow, Result};
use common::database::QueryUnitOfWork;
use common::entities::Car;
use common::types::EntityId;

pub trait ListCarsUnitOfWorkFactoryTrait {
    fn create(&self) -> Box<dyn ListCarsUnitOfWorkTrait>;
}
#[macros::uow_action(entity = "Car", action = "GetRO")]
#[macros::uow_action(entity = "Car", action = "GetMultiRO")]
pub trait ListCarsUnitOfWorkTrait: QueryUnitOfWork {}

pub struct ListCarsUseCase {
    uow_factory: Box<dyn ListCarsUnitOfWorkFactoryTrait>,
}

impl ListCarsUseCase {
    pub fn new(uow_factory: Box<dyn ListCarsUnitOfWorkFactoryTrait>) -> Self {
        ListCarsUseCase { uow_factory }
    }

    pub fn execute(&mut self) -> Result<CarListDto> {
        let mut uow = self.uow_factory.create();
        uow.begin_transaction()?;

        //TODO: ListCarsUseCase to be implemented
        unimplemented!("ListCarsUseCase unimplemented");
        uow.end_transaction()?;
        //Ok(CarListDto {
        //
        //})
        // placeholder to allow compilation
        Err(anyhow!("Not implemented"))
    }
}
