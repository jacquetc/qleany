// Generated by Qleany. Edit at your own risk! Be careful when regenerating this file
// as changes will be lost.
use crate::AddCarDto;
use crate::AddCarReturnDto;
use anyhow::{anyhow, Result};
use common::database::CommandUnitOfWork;
use common::entities::{Car, Root};
use common::types::EntityId;

pub trait AddCarUnitOfWorkFactoryTrait {
    fn create(&self) -> Box<dyn AddCarUnitOfWorkTrait>;
}
#[macros::uow_action(entity = "Root", action = "Get")]
#[macros::uow_action(entity = "Root", action = "GetMulti")]
#[macros::uow_action(entity = "Car", action = "Get")]
#[macros::uow_action(entity = "Car", action = "GetMulti")]
pub trait AddCarUnitOfWorkTrait: CommandUnitOfWork {}

pub struct AddCarUseCase {
    uow_factory: Box<dyn AddCarUnitOfWorkFactoryTrait>,
}

impl AddCarUseCase {
    pub fn new(uow_factory: Box<dyn AddCarUnitOfWorkFactoryTrait>) -> Self {
        AddCarUseCase { uow_factory }
    }

    pub fn execute(&mut self, dto: &AddCarDto) -> Result<AddCarReturnDto> {
        let mut uow = self.uow_factory.create();
        uow.begin_transaction()?;

        //TODO: AddCarUseCase to be implemented
        unimplemented!("AddCarUseCase unimplemented");
        uow.commit()?;
        //Ok(AddCarReturnDto {
        //
        //})
        // placeholder to allow compilation
        Err(anyhow!("Not implemented"))
    }
}
use common::undo_redo::UndoRedoCommand;
use std::any::Any;
impl UndoRedoCommand for CreateGlobalUseCase {
    fn undo(&mut self) -> Result<()> {
        //TODO: AddCarUseCase  undo to be implemented
        unimplemented!("AddCarUseCase undo unimplemented");

        Ok(())
    }

    fn redo(&mut self) -> Result<()> {
        //TODO: AddCarUseCase  redo to be implemented
        unimplemented!("AddCarUseCase redo unimplemented");

        Ok(())
    }
    fn as_any(&self) -> &dyn Any {
        self
    }
}
