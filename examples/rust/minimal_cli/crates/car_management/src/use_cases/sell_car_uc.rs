// Generated by Qleany. Edit at your own risk! Be careful when regenerating this file
// as changes will be lost.
use crate::SellCarDto;
use crate::SellCarResultDto;
use anyhow::{anyhow, Result};
use common::database::CommandUnitOfWork;
use common::entities::{Car, Customer};
use common::types::EntityId;

pub trait SellCarUnitOfWorkFactoryTrait {
    fn create(&self) -> Box<dyn SellCarUnitOfWorkTrait>;
}
#[macros::uow_action(entity = "Car", action = "Get")]
#[macros::uow_action(entity = "Car", action = "GetMulti")]
#[macros::uow_action(entity = "Customer", action = "Get")]
#[macros::uow_action(entity = "Customer", action = "GetMulti")]
pub trait SellCarUnitOfWorkTrait: CommandUnitOfWork {}

pub struct SellCarUseCase {
    uow_factory: Box<dyn SellCarUnitOfWorkFactoryTrait>,
}

impl SellCarUseCase {
    pub fn new(uow_factory: Box<dyn SellCarUnitOfWorkFactoryTrait>) -> Self {
        SellCarUseCase { uow_factory }
    }

    pub fn execute(&mut self, dto: &SellCarDto) -> Result<SellCarResultDto> {
        let mut uow = self.uow_factory.create();
        uow.begin_transaction()?;

        //TODO: SellCarUseCase to be implemented
        unimplemented!("SellCarUseCase unimplemented");
        uow.commit()?;
        //Ok(SellCarResultDto {
        //
        //})
        // placeholder to allow compilation
        Err(anyhow!("Not implemented"))
    }
}
use common::undo_redo::UndoRedoCommand;
use std::any::Any;
impl UndoRedoCommand for CreateGlobalUseCase {
    fn undo(&mut self) -> Result<()> {
        //TODO: SellCarUseCase  undo to be implemented
        unimplemented!("SellCarUseCase undo unimplemented");

        Ok(())
    }

    fn redo(&mut self) -> Result<()> {
        //TODO: SellCarUseCase  redo to be implemented
        unimplemented!("SellCarUseCase redo unimplemented");

        Ok(())
    }
    fn as_any(&self) -> &dyn Any {
        self
    }
}
