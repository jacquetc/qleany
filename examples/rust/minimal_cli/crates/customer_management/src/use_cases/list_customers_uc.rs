// Generated by Qleany. Edit at your own risk! Be careful when regenerating this file
// as changes will be lost.
use crate::CustomerListDto;
use anyhow::{anyhow, Result};
use common::database::QueryUnitOfWork;
use common::entities::Customer;
use common::types::EntityId;

pub trait ListCustomersUnitOfWorkFactoryTrait {
    fn create(&self) -> Box<dyn ListCustomersUnitOfWorkTrait>;
}
#[macros::uow_action(entity = "Customer", action = "GetRO")]
#[macros::uow_action(entity = "Customer", action = "GetMultiRO")]
pub trait ListCustomersUnitOfWorkTrait: QueryUnitOfWork {}

pub struct ListCustomersUseCase {
    uow_factory: Box<dyn ListCustomersUnitOfWorkFactoryTrait>,
}

impl ListCustomersUseCase {
    pub fn new(uow_factory: Box<dyn ListCustomersUnitOfWorkFactoryTrait>) -> Self {
        ListCustomersUseCase { uow_factory }
    }

    pub fn execute(&mut self) -> Result<CustomerListDto> {
        let mut uow = self.uow_factory.create();
        uow.begin_transaction()?;

        //TODO: ListCustomersUseCase to be implemented
        unimplemented!("ListCustomersUseCase unimplemented");
        uow.end_transaction()?;
        //Ok(CustomerListDto {
        //
        //})
        // placeholder to allow compilation
        Err(anyhow!("Not implemented"))
    }
}
